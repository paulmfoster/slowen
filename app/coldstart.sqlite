PRAGMA foreign_keys=OFF;
BEGIN TRANSACTION;
CREATE TABLE accounts ( id INTEGER PRIMARY KEY AUTOINCREMENT, parent INTEGER NOT NULL DEFAULT 0, lft INTEGER, rgt INTEGER, open_dt DATE, recon_dt DATE, acct_type CHAR(1) NOT NULL, name VARCHAR(35) NOT NULL, descrip VARCHAR(50), open_bal INTEGER DEFAULT 0, rec_bal INTEGER DEFAULT 0);
INSERT INTO accounts VALUES(1,2,0,NULL,NULL,'',NULL,'E','Expense','',0,0);
INSERT INTO accounts VALUES(2,3,0,NULL,NULL,'',NULL,'L','Liability','',0,0);
INSERT INTO accounts VALUES(3,4,0,NULL,NULL,'',NULL,'A','Asset','',0,0);
INSERT INTO accounts VALUES(4,5,0,NULL,NULL,'',NULL,'I','Income','',0,0);
INSERT INTO accounts VALUES(5,6,0,NULL,NULL,'',NULL,'Q','Equity','',0,0);
INSERT INTO accounts VALUES(6,7,2,NULL,NULL,'2006-02-26',NULL,'E','Bank Chgs','',0,0);
INSERT INTO accounts VALUES(7,8,2,NULL,NULL,'2006-02-26',NULL,'E','Cash','',0,0);
INSERT INTO accounts VALUES(8,9,2,NULL,NULL,'2006-02-26',NULL,'E','Clothing','',0,0);
INSERT INTO accounts VALUES(9,10,2,NULL,NULL,'2006-02-26',NULL,'E','Dining','',0,0);
INSERT INTO accounts VALUES(10,11,2,NULL,NULL,'2006-02-26',NULL,'E','Donations','',0,0);
INSERT INTO accounts VALUES(11,12,2,NULL,NULL,'2006-02-26',NULL,'E','Gifts','',0,0);
INSERT INTO accounts VALUES(12,13,2,NULL,NULL,'2006-02-26',NULL,'E','Groceries','',0,0);
INSERT INTO accounts VALUES(13,14,2,NULL,NULL,'2006-02-26',NULL,'E','Income Tax','',0,0);
INSERT INTO accounts VALUES(14,15,2,NULL,NULL,'2006-02-26',NULL,'E','Medical','',0,0);
INSERT INTO accounts VALUES(15,16,2,NULL,NULL,'2006-02-26',NULL,'E','Mortgage','',0,0);
INSERT INTO accounts VALUES(16,17,2,NULL,NULL,'2006-02-26',NULL,'E','Rent','',0,0);
INSERT INTO accounts VALUES(17,18,2,NULL,NULL,'2006-02-26',NULL,'E','Subscriptions','',0,0);
INSERT INTO accounts VALUES(18,19,2,NULL,NULL,'2006-02-26',NULL,'E','Travel','',0,0);
INSERT INTO accounts VALUES(19,20,2,NULL,NULL,'2006-02-26',NULL,'E','Utilities','',0,0);
INSERT INTO accounts VALUES(20,21,6,NULL,NULL,'2006-01-01',NULL,'Q','Opening Balances','',0,0);
INSERT INTO accounts VALUES(21,22,2,NULL,NULL,'2016-01-05',NULL,'E','Gas/Petrol','',0,0);
INSERT INTO accounts VALUES(22,23,5,NULL,NULL,'2015-01-01',NULL,'I','Salary','',0,0);
INSERT INTO accounts VALUES(23,24,2,NULL,NULL,'2006-02-26',NULL,'E','Books, Publications','',0,0);
CREATE TABLE payees ( id integer primary key autoincrement, name varchar(35) not null);
CREATE TABLE journal ( id integer primary key autoincrement, txnid integer not null, from_acct integer not null references accounts(id), txn_dt date not null, checkno varchar(12), split boolean default 0, payee_id integer, to_acct integer, memo varchar(35), status char(1) not null default ' ', recon_dt date, amount integer not null);
CREATE TABLE recon ( id integer primary key autoincrement, from_acct integer, stmt_start_bal integer, stmt_end_bal integer, stmt_close_date date);
CREATE TABLE scheduled3 ( id integer primary key autoincrement, from_acct integer not null references accounts(id), freq integer default 1, period char(1) not null, occ integer default 0, payee_id integer references payees(id), to_acct integer references accounts(id), memo varchar(35), amount integer not null, last date);
CREATE TABLE splits ( id integer primary key autoincrement, jnlid integer not null references journal(id), to_acct integer not null references accounts(id), memo varchar(35), payee_id integer references payees(id), amount integer not null);
CREATE TABLE sqllog ( id integer primary key autoincrement, timestamp varchar(19), ltype char(6), ltable varchar(255), lfields varchar(1024), lwhere varchar(1024));
CREATE TABLE blines ( id INTEGER PRIMARY KEY AUTOINCREMENT, acctname VARCHAR(20), from_acct INTEGER NOT NULL DEFAULT 0, payee_id INTEGER NOT NULL DEFAULT 0, to_acct INTEGER NOT NULL DEFAULT 0, period CHAR(1) NOT NULL, typdue INTEGER NOT NULL DEFAULT 0);
CREATE TABLE cells ( id INTEGER PRIMARY KEY AUTOINCREMENT, acctnum INTEGER NOT NULL REFERENCES blines(id), wedate date, wklysa INTEGER, priorsa INTEGER, addlsa INTEGER, paid INTEGER, newsa INTEGER);
CREATE TABLE staging ( id INTEGER PRIMARY KEY AUTOINCREMENT, acctnum INTEGER NOT NULL REFERENCES blines(id), wedate date, wklysa INTEGER, priorsa INTEGER, addlsa INTEGER, paid INTEGER, newsa INTEGER);
CREATE TABLE history ( id INTEGER PRIMARY KEY AUTOINCREMENT, acctname VARCHAR(20), wedate date, wklysa INTEGER, priorsa INTEGER, addlsa INTEGER, paid INTEGER, newsa INTEGER);
CREATE INDEX journal_ndx on journal ( from_acct, txn_dt, checkno, txnid);
DELETE FROM sqlite_sequence;
INSERT INTO sqlite_sequence VALUES('accounts',24);
INSERT INTO sqlite_sequence VALUES('payees',1);
INSERT INTO sqlite_sequence VALUES('journal',1);
INSERT INTO sqlite_sequence VALUES('splits',1);
COMMIT;
